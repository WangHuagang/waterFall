function scrollside(){var o=$(".box"),t=o.last().get(0).offsetTop+parseInt(o.last().height()/2),i=$(document).height();return t<$(window).scrollTop()+i}function imgLocation(){var o=$(".box"),t=o.eq(0).width(),i=parseInt($(window).width()/t),n=[];o.each(function(t,s){var a=o.eq(t).height();if(t<i)n[t]=a;else{var c=Math.min.apply(null,n),r=$.inArray(c,n);$(s).css({position:"absolute",top:c,left:o.eq(r).position().left}),n[r]+=o.eq(t).height()}})}$(function(){$(window).on("load",function(){imgLocation();var o={data:[{src:"1.jpg"},{src:"2.jpg"},{src:"3.jpg"},{src:"4.jpg"},{src:"5.jpg"},{src:"6.jpg"},{src:"7.jpg"},{src:"8.jpg"},{src:"9.jpg"},{src:"10.jpg"},{src:"11.jpg"},{src:"12.jpg"},{src:"13.jpg"}]};window.onscroll=function(){scrollside()&&($.each(o.data,function(o,t){var i=$("<div>").addClass("box").appendTo($(".content")),n=$("<div>").addClass("img").appendTo(i);console.log("image/"+$(t).attr("src")),$("<img>").attr("src","image/"+$(t).attr("src")).appendTo(n)}),imgLocation())}})});